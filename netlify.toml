# Netlify 배포 설정 최종본

[build]
  publish = "/"  # 현재 파일들이 최상단(Root)에 있으므로 빈칸 또는 / 설정

[[redirects]]
  # 1. 파이 인증 파일은 리다이렉트 없이 원본 그대로 노출
  from = "/.well-known/*"
  to = "/.well-known/:splat"
  status = 200
  force = true

[[redirects]]
  # 2. 그 외 모든 접속은 Single Page App 처리를 위해 index.html로 연결
  from = "/*"
  to = "/index.html"
  status = 200

[[headers]]
  # 모든 페이지에 대한 보안 및 접근 허용 설정
  for = "/*"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Content-Security-Policy = "frame-ancestors 'self' https://sandbox.minepi.com https://*.minepi.com https://*.pinet.com https://*.socialchain.app;"
    X-Frame-Options = "ALLOW-FROM https://*.minepi.com"

[[headers]]
  # .well-known 파일들을 텍스트로 인식하게 강제 설정
  for = "/.well-known/*"
  [headers.values]
    Content-Type = "text/plain; charset=utf-8"
    Access-Control-Allow-Origin = "*"